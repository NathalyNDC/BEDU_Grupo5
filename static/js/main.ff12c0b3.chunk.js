(this["webpackJsonprestaurant-front"]=this["webpackJsonprestaurant-front"]||[]).push([[0],{103:function(e,t,a){e.exports={OrdersList:"OrdersList_OrdersList__2bqZK"}},139:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(31),s=a.n(c),i=a(17),o=a(9),l=a(12),d=a.p+"static/media/restaurant-logo.969e6013.jpg",u=a(93),j=a.n(u),h=a(2),b=function(){return Object(h.jsx)("div",{className:j.a.Logo,children:Object(h.jsx)("img",{src:d,alt:"MyLogo"})})},g=a(94),O=a.n(g),m=a(75),p=a.n(m),x=function(e){return Object(h.jsx)("li",{className:p.a.NavigationItem,children:Object(h.jsx)(i.c,{to:e.link,exact:e.exact,activeClassName:p.a.active,children:e.children})})},f=function(e){var t=[{route:"/",displayName:"Iniciar sesi\xf3n"},{route:"/signup",displayName:"Registrarse"}];if(e.isAuthenticated)switch(localStorage.getItem("type")){case"admin":t=[{route:"/admin",displayName:"Inicio"},{route:"/admin/new-user",displayName:"Registrar Nuevo Usuario"},{route:"/admin/pedidos",displayName:"Ver Pedidos"},{route:"/admin/menu",displayName:"Men\xfa"},{route:"/logout",displayName:"Cerrar Sesi\xf3n"}];break;case"chef":t=[{route:"/chef",displayName:"Inicio"},{route:"/chef/new-orders",displayName:"Ordenes nuevas"},{route:"/chef/my-orders",displayName:"Mis pedidos"},{route:"/logout",displayName:"Cerrar Sesi\xf3n"}];break;case"mesero":t=[{route:"/mesero",displayName:"Inicio"},{route:"/mesero/new-orders",displayName:"Ordenes nuevas"},{route:"/mesero/my-orders",displayName:"Mis pedidos"},{route:"/logout",displayName:"Cerrar Sesi\xf3n"}];break;default:t=[{route:"/cliente",displayName:"Inicio"},{route:"/logout",displayName:"Cerrar Sesi\xf3n"}]}return Object(h.jsx)("ul",{className:O.a.NavigationItems,children:t.map((function(e,t){return Object(h.jsx)(x,{link:e.route,exact:!0,children:e.displayName},t)}))})},v=a(96),y=a.n(v),_=function(e){return Object(h.jsxs)("div",{className:y.a.DrawerToggle,onClick:e.clicked,children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})},N=a(71),C=a.n(N),w=function(e){return Object(h.jsxs)("header",{className:C.a.Toolbar,children:[Object(h.jsx)(_,{clicked:e.drawerToggleClicked}),Object(h.jsx)("div",{className:C.a.Logo,children:Object(h.jsx)(b,{children:"LOGO"})}),Object(h.jsx)("nav",{className:C.a.DesktopOnly,children:Object(h.jsx)(f,{isAuthenticated:e.isAuthenticated})})]})},k=a(46),S=a.n(k),I=a(97),L=a.n(I),M=function(e){return e.show?Object(h.jsx)("div",{className:L.a.Backdrop,onClick:e.clicked}):null},T=function(e){var t=[S.a.SideDrawer,S.a.Close];return e.open&&(t=[S.a.SideDrawer,S.a.Open]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(M,{show:e.open,clicked:e.closed}),Object(h.jsxs)("div",{className:t.join(" "),onClick:e.closed,children:[Object(h.jsx)("div",{className:S.a.Logo,children:Object(h.jsx)(b,{})}),Object(h.jsx)("nav",{children:Object(h.jsx)(f,{isAuthenticated:e.isAuthenticated})})]})]})},P=a(98),E=a.n(P),A=function(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),n=a[0],c=a[1],s=function(){c(!n)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(w,{drawerToggleClicked:s,isAuthenticated:e.isAuthenticated}),Object(h.jsx)(T,{open:n,closed:s,isAuthenticated:e.isAuthenticated}),Object(h.jsx)("main",{className:E.a.Content,children:e.children})]})},D=a(36),F=a(21),B=function(e,t){return Object(F.a)(Object(F.a)({},e),t)},V=function(e,t){var a=!0;if(!t)return!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}if(t.isNumeric){a=/^\d+$/.test(e)&&a}return a},z=a(50),H=a(29),q=a(145),R=a(27),G=a(99),U=a.n(G),K=function(){return Object(h.jsx)("div",{className:U.a.Loader,children:"Loading..."})},X=a(78),Z=a(72),$=a.n(Z),J=function(e){var t=null,a=null,r=[$.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&(r.push($.a.Invalid),a=Object(h.jsx)("p",{className:"".concat($.a.InvalidMessage," text-center"),children:e.errorMessage})),e.elementType){case"input":t=Object(h.jsx)(q.a.Control,Object(F.a)(Object(F.a)({className:r.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"group":t=Object(h.jsx)(q.a.Group,{children:Object(h.jsxs)(X.a,{children:[Object(h.jsx)(X.a.Prepend,{children:Object(h.jsxs)(X.a.Text,{children:[" ",Object(h.jsx)(e.icon,{})]})}),Object(h.jsx)(q.a.Control,Object(F.a)(Object(F.a)({className:r.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}))]})});break;case"textarea":t=Object(h.jsx)(q.a.Control,Object(F.a)(Object(F.a)({as:"textarea",className:r.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":t=Object(h.jsx)(q.a.Control,Object(F.a)(Object(F.a)({as:"select",className:"".concat(r.join(" ")," mb-3")},e.elementConfig),{},{value:e.value,onChange:e.changed,children:e.elementConfig.options.map((function(e){return Object(h.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))}));break;default:t=Object(h.jsx)(q.a.Control,Object(F.a)(Object(F.a)({className:r.join(" ")},e.elementConfig),{},{value:e.value}))}return Object(h.jsxs)(h.Fragment,{children:[t,a]})},Y=a(18),W=a(32),Q=a.n(W),ee=function(e){var t=e.data,a=e.setLoading,r=e.setToken,n=e.setErrorMessage,c=e.history,s=e.register;Q.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/usuarios/signup"),t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(!1),alert("Se cre\xf3 el usuario"),s?c.push("/admin"):(localStorage.setItem("token","Bearer ".concat(e.data.detail.token)),localStorage.setItem("type",e.data.detail.type),a(!1),r(e.data.detail.token))})).catch((function(e){n(!0),a(!1)}))},te=a(19),ae=function(e){var t=e.setOrders,a=e.setFilteredOrders,r=e.setLoading,n=e.filter;Q.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/filtrar"),n,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var n=e.data.detail;t(Object(te.a)(n)),a(Object(te.a)(n)),r(!1)})).catch((function(e){r(!1),console.log(e)}))},re=a(79),ne=a.n(re),ce=Object(l.h)((function(e){var t=Object(r.useState)({email:{elementType:"group",elementConfig:{type:"email",placeholder:"Ingresa tu email"},icon:Y.a,value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1,errorMessage:"Ingresa un email v\xe1lido"},password:{elementType:"group",elementConfig:{type:"password",placeholder:"Ingresa tu contrase\xf1a"},icon:Y.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Ingresa una contrase\xf1a v\xe1lida"}}),a=Object(o.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),l=Object(o.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(!1),b=Object(o.a)(j,2),g=b[0],O=b[1];e.isAuthenticated&&e.history.push("/".concat(localStorage.getItem("type")));var m=[];for(var p in n)m.push({id:p,config:n[p]});var x=d?Object(h.jsx)(K,{}):m.map((function(e){return Object(h.jsx)(J,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=B(n,Object(D.a)({},t,B(n[t],{value:e.target.value,valid:V(e.target.value,n[t].validation),touched:!0})));c(a)}(t,e.id)}},e.id)}));return Object(h.jsx)(z.a,{children:Object(h.jsx)(H.a,{className:ne.a.Login,children:Object(h.jsxs)(H.a.Body,{children:[Object(h.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Inicio de sesi\xf3n"}),Object(h.jsx)("hr",{}),Object(h.jsxs)(q.a,{noValidate:!0,onSubmit:function(t){t.preventDefault(),u(!0),O(!1),function(e){var t=e.data,a=e.setLoading,r=e.setToken,n=e.setErrorMessage;Q.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/usuarios/login"),t).then((function(e){localStorage.setItem("token","Bearer ".concat(e.data.detail.token)),localStorage.setItem("type",e.data.detail.type),a(!1),r(e.data.detail.token)})).catch((function(e){console.log(e),n(!0),a(!1)}))}({data:{email:n.email.value,password:n.password.value},setLoading:u,setToken:e.setToken,setErrorMessage:O})},children:[x,Object(h.jsx)(R.a,{type:"submit",variant:"primary",size:"lg",block:!0,disabled:!n.email.valid||!n.password.valid,children:" Iniciar Sesi\xf3n  "}),g&&Object(h.jsx)("p",{className:"".concat(ne.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica las credenciales"}),Object(h.jsxs)("p",{className:"text-center mt-4",children:["\xbfNo tienes cuenta? ",Object(h.jsx)(i.b,{to:"/signup",children:"Registrate"})]})]})]})})})})),se=function(e){return localStorage.clear(),e.setToken(null),Object(h.jsx)(l.a,{to:"/"})},ie=a(80),oe=a.n(ie),le=Object(l.h)((function(e){var t=Object(r.useState)({firstName:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa tu(s) nombre(s)"},icon:Y.c,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un nombre"},lastName:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa tu(s) apellido(s)"},icon:Y.c,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un apellido"},email:{elementType:"group",elementConfig:{type:"email",placeholder:"Ingresa tu email"},icon:Y.a,value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1,errorMessage:"Ingresa un email v\xe1lido"},password:{elementType:"group",elementConfig:{type:"password",placeholder:"Ingresa tu contrase\xf1a"},icon:Y.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Ingresa una contrase\xf1a v\xe1lida"},confirmPassword:{elementType:"group",elementConfig:{type:"password",placeholder:"Confirma tu contrase\xf1a"},icon:Y.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Las contrase\xf1as no coinciden"}}),a=Object(o.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),l=Object(o.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(!1),b=Object(o.a)(j,2),g=b[0],O=b[1];e.isAuthenticated&&e.history.push("/".concat(localStorage.getItem("type")));var m=[];for(var p in n)m.push({id:p,config:n[p]});var x=d?Object(h.jsx)(K,{}):m.map((function(e){return Object(h.jsx)(J,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=B(n,Object(D.a)({},t,B(n[t],{value:e.target.value,valid:"confirmPassword"===t?e.target.value===n.password.value:V(e.target.value,n[t].validation),touched:!0})));"password"===t&&a.confirmPassword.value&&(a=B(a,{confirmPassword:B(a.confirmPassword,{valid:e.target.value===a.confirmPassword.value})})),c(a)}(t,e.id)}},e.id)}));return Object(h.jsx)(z.a,{children:Object(h.jsx)(H.a,{className:oe.a.Signup,children:Object(h.jsxs)(H.a.Body,{children:[Object(h.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Registro"}),Object(h.jsx)("hr",{}),Object(h.jsxs)(q.a,{noValidate:!0,onSubmit:function(t){t.preventDefault(),u(!0),O(!1);var a={firstName:n.firstName.value,lastName:n.lastName.value,email:n.email.value,password:n.password.value};ee({data:a,setLoading:u,setToken:e.setToken,setErrorMessage:O,register:!1})},children:[x,Object(h.jsx)(R.a,{type:"submit",variant:"primary",size:"lg",block:!0,disabled:!n.firstName.valid||!n.lastName.valid||!n.email.valid||!n.password.valid||!n.confirmPassword.valid,children:" Registrarse  "}),g&&Object(h.jsx)("p",{className:"".concat(oe.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica los datos ingresados"}),Object(h.jsxs)("p",{className:"text-center mt-4",children:["Ya est\xe1s registrado? ",Object(h.jsx)(i.b,{to:"/",children:"Inicia sesi\xf3n"})]})]})]})})})})),de=a(81),ue=a.n(de),je=Object(l.h)((function(e){var t=Object(r.useState)({firstName:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa nombre(s)"},icon:Y.c,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un nombre"},lastName:{elementType:"group",elementConfig:{type:"text",placeholder:"Ingresa apellido(s)"},icon:Y.c,value:"",validation:{required:!0},valid:!1,touched:!1,errorMessage:"Ingresa un apellido"},email:{elementType:"group",elementConfig:{type:"email",placeholder:"Ingresa el email"},icon:Y.a,value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1,errorMessage:"Ingresa un email v\xe1lido"},password:{elementType:"group",elementConfig:{type:"password",placeholder:"Ingresa la contrase\xf1a"},icon:Y.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Ingresa una contrase\xf1a v\xe1lida"},confirmPassword:{elementType:"group",elementConfig:{type:"password",placeholder:"Confirma la contrase\xf1a"},icon:Y.b,value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1,errorMessage:"Las contrase\xf1as no coinciden"},type:{elementType:"select",elementConfig:{options:[{value:"admin",displayValue:"Administrador"},{value:"chef",displayValue:"Chef"},{value:"mesero",displayValue:"Mesero"},{value:"cliente",displayValue:"Cliente"}]},value:"admin",validation:{},valid:!0}}),a=Object(o.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(!1),i=Object(o.a)(s,2),l=i[0],d=i[1],u=Object(r.useState)(!1),j=Object(o.a)(u,2),b=j[0],g=j[1],O=[];for(var m in n)O.push({id:m,config:n[m]});var p=l?Object(h.jsx)(K,{}):O.map((function(e){return Object(h.jsx)(J,{elementType:e.config.elementType,icon:e.config.icon,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,errorMessage:e.config.errorMessage,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return function(e,t){var a=B(n,Object(D.a)({},t,B(n[t],{value:e.target.value,valid:"confirmPassword"===t?e.target.value===n.password.value:V(e.target.value,n[t].validation),touched:!0})));"password"===t&&a.confirmPassword.value&&(a=B(a,{confirmPassword:B(a.confirmPassword,{valid:e.target.value===a.confirmPassword.value})})),c(a)}(t,e.id)}},e.id)}));return Object(h.jsx)(z.a,{children:Object(h.jsx)(H.a,{className:ue.a.Register,children:Object(h.jsxs)(H.a.Body,{children:[Object(h.jsx)("h4",{className:"card-title text-center mb-4 mt-1",children:"Nuevo usuario"}),Object(h.jsx)("hr",{}),Object(h.jsxs)(q.a,{noValidate:!0,onSubmit:function(t){t.preventDefault(),d(!0),g(!1);var a={firstName:n.firstName.value,lastName:n.lastName.value,email:n.email.value,password:n.password.value,type:n.type.value};ee({data:a,setLoading:d,setErrorMessage:g,register:!0,history:e.history})},children:[p,Object(h.jsx)(R.a,{type:"submit",variant:"primary",size:"lg",block:!0,disabled:!n.firstName.valid||!n.lastName.valid||!n.email.valid||!n.password.valid||!n.confirmPassword.valid,children:" Registrar  "}),b&&Object(h.jsx)("p",{className:"".concat(ue.a.ErrorMessage," text-center mt-2"),children:"Error: Verifica los datos ingresados"})]})]})})})})),he=function(){return Object(h.jsx)("div",{children:"Menu Component"})},be=a(58),ge=a(54),Oe=a.n(ge),me=function(e){var t=null;t=e.show?e.orders.filter((function(e){return!e.status})).length:e.orders.length;return Object(h.jsxs)("form",{className:Oe.a.Filter,onSubmit:function(t){t.preventDefault(),t.stopPropagation(),e.filterHandler()},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Estatus: "}),Object(h.jsx)(R.a,{className:Oe.a.orangeBtn,onClick:e.showHide,size:"sm",children:e.show?"Ver todos":"Ver pendientes"})]}),Object(h.jsx)("div",{children:Object(h.jsxs)(X.a,{className:"mb-3",size:"sm",children:[Object(h.jsx)(be.a,{placeholder:"Buscar una orden...","aria-label":"search","aria-describedby":"basic-addon2",value:e.value,onChange:function(t){t.preventDefault(),t.stopPropagation(),e.changeValue(t.target.value)}}),Object(h.jsx)(X.a.Append,{children:Object(h.jsx)(R.a,{className:Oe.a.orangeBtn,type:"submit",size:"sm",children:"Buscar"})})]})}),Object(h.jsxs)("label",{className:Oe.a.orange,children:["Hay ",t," orden(es)"]})]})},pe=a(104),xe=a(60),fe=a(102),ve=a(101),ye=a(100),_e=a(55),Ne=a.n(_e),Ce=function(e){var t=function(t){e.change(e.id),t.preventDefault(),t.stopPropagation()};return 1===e.status?Object(h.jsx)("span",{onClick:function(e){return t(e)},children:Object(h.jsx)(ye.a,{className:Ne.a.Green})}):2===e.status?Object(h.jsx)("span",{onClick:function(e){return t(e)},children:Object(h.jsx)(xe.b,{className:Ne.a.Green})}):3===e.status?Object(h.jsx)("span",{className:"".concat(Ne.a.Check," ").concat(e.done?"":"doneMark"),children:Object(h.jsx)(ve.a,{className:Ne.a.Green})}):""},we=a(82),ke=a.n(we),Se=function(e){var t=new Date(e.order.createdAt);return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)(Ce,{status:e.order.status,change:e.change,id:e.order._id})}),Object(h.jsx)("td",{children:e.order._id.substring(e.order._id.length-7)}),Object(h.jsx)("td",{children:"".concat(t.getDate()+1,"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())}),Object(h.jsx)("td",{children:"".concat(e.order.idCliente.firstName," ").concat(e.order.idCliente.lastName)}),Object(h.jsx)("td",{children:"".concat(e.order.info.length," productos")}),Object(h.jsx)("td",{children:"$".concat(e.order.cost.toFixed(2))}),Object(h.jsx)("td",{children:Object(h.jsx)(fe.a,{className:"".concat(ke.a.blue," is-pulled-right"),onClick:function(t){e.handleShow(),e.setOrder(e.order)}})}),"admin"===localStorage.getItem("type")&&Object(h.jsx)("td",{children:Object(h.jsx)(xe.a,{className:"".concat(ke.a.orange," is-pulled-right"),onClick:function(t){e.delete(e.order._id),t.preventDefault(),t.stopPropagation()}})})]})},Ie=a(103),Le=a.n(Ie),Me=function(e){var t=null;return t=(t=e.show?Object(te.a)(e.orders).filter((function(e){return 1===e.status})):Object(te.a)(e.orders)).map((function(t){return Object(h.jsx)(Se,{order:t,change:e.change,delete:e.delete,handleClose:e.handleClose,handleShow:e.handleShow,setOrder:e.setOrder},t._id)})),Object(h.jsx)("div",{className:Le.a.OrdersList,children:Object(h.jsxs)(pe.a,{responsive:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Listo"}),Object(h.jsx)("th",{children:"ID"}),Object(h.jsx)("th",{children:"Fecha"}),Object(h.jsx)("th",{children:"Cliente"}),Object(h.jsx)("th",{children:"Cant. productos"}),Object(h.jsx)("th",{children:"Costo"}),Object(h.jsx)("th",{children:"Detalles"}),"admin"===localStorage.getItem("type")?Object(h.jsx)("th",{children:"Cancelar"}):null]})}),Object(h.jsx)("tbody",{children:t})]})})},Te=a(47),Pe=function(e){var t,a,r,n,c,s=function(e){switch(localStorage.getItem("type")){case"admin":return 1===e?"Cancelar":"NA";case"chef":switch(e){case 1:return"Preparar";case 2:return"Terminar";default:return"NA"}default:return 3===e?"Entregar":"NA"}};return c=s(e.order.status),Object(h.jsxs)(Te.a,{show:e.show,onHide:e.handleClose,children:[Object(h.jsx)(Te.a.Header,{closeButton:!0,children:Object(h.jsxs)(Te.a.Title,{children:["Pedido #",e.order._id]})}),Object(h.jsxs)(Te.a.Body,{children:[Object(h.jsxs)("p",{children:["Estado: ",function(e){switch(e){case 0:return"Cancelado";case 1:return"Pendiente";case 2:return"Preparando";case 3:return"Preparado";default:return"Entregado"}}(e.order.status)]}),Object(h.jsxs)("p",{children:["Cliente: ","".concat(e.order.idCliente.firstName," ").concat(e.order.idCliente.lastName)]}),Object(h.jsxs)("p",{children:["Chef: ",e.order.idChef?"".concat(null===(t=e.order.idChef)||void 0===t?void 0:t.firstName," ").concat(null===(a=e.order.idChef)||void 0===a?void 0:a.lastName):"Sin asignar"]}),Object(h.jsxs)("p",{children:["Mesero: ",e.order.idMesero?"".concat(null===(r=e.order.idMesero)||void 0===r?void 0:r.firstName," ").concat(null===(n=e.order.idMesero)||void 0===n?void 0:n.lastName):"Sin asignar"]}),Object(h.jsxs)("p",{children:["Costo: $",e.order.cost]})]}),Object(h.jsxs)(Te.a.Footer,{children:["NA"!==c&&Object(h.jsx)(R.a,{variant:"primary",className:"float-left",onClick:function(){return e.changeStatusHandler(e.order._id)},disabled:e.loading,children:s(e.order.status)}),Object(h.jsx)(R.a,{variant:"secondary",onClick:e.handleClose,children:"Cerrar"})]})]})},Ee=a(83),Ae=a.n(Ee),De=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(o.a)(c,2),i=s[0],l=s[1],d=Object(r.useState)(!1),u=Object(o.a)(d,2),j=u[0],b=u[1],g=Object(r.useState)(!1),O=Object(o.a)(g,2),m=O[0],p=O[1],x=Object(r.useState)([]),f=Object(o.a)(x,2),v=f[0],y=f[1],_=Object(r.useState)(!0),N=Object(o.a)(_,2),C=N[0],w=N[1],k=Object(r.useState)({_id:"",idCliente:{},idChef:{},idMesero:{}}),S=Object(o.a)(k,2),I=S[0],L=S[1],M=function(){return p(!0)},T=function(){""!==i.trim()?y(Object(te.a)(a).filter((function(e){return-1!==e.task.search(i)}))):y(Object(te.a)(a))};Object(r.useEffect)((function(){ae({setOrders:n,setFilteredOrders:y,filter:{},setLoading:w})}),[]),Object(r.useEffect)((function(){T()}),[a]);var P=function(e,t){e.preventDefault(),function(e){var t=e.setOrders,a=e.data,r=e.orders;Q.a.post("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido"),a,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var a=Object(te.a)(r);a.push({task:0!==e.data.detail.status?"hola ".concat(e.data.detail._id):"Pedido Cancelado",status:!1,id:e.data.detail._id}),t(Object(te.a)(a))})).catch((function(e){console.log(e)}))}({data:{idCliente:"604d7b10b3cc2474fa21ac0c",info:["604d7f9d9b0f2b78e3d59910","604d801d22885b79ebd38297","604d80911cad697a4c8bb044","604d80ae1cad697a4c8bb046"],cost:0,status:t},orders:a,setOrders:n})},E=function(e){var t=Object(te.a)(a),r=t.findIndex((function(t){return t._id===e}));switch(t[r].status){case 1:t[r].status="admin"===localStorage.getItem("type")?0:2;break;default:t[r].status="admin"===localStorage.getItem("type")?t[r].status:t[r].status+1}w(!0),function(e){var t=e.id,a=e.data,r=e.setLoading,n=e.setOrder;Q.a.put("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/cambiarEstatus/").concat(t),a,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){n&&n(e.data.detail),r(!1)})).catch((function(e){r(!1),console.log(e)}))}({id:t[r]._id,data:{status:t[r].status},setOrder:L,setLoading:w}),n(t)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"".concat(Ae.a.OrderHistory),children:Object(h.jsxs)("div",{className:Ae.a.card,children:[Object(h.jsx)(me,{showHide:function(){b(!j)},filterHandler:T,orders:a,show:j,value:i,changeValue:function(e){""===e&&y(Object(te.a)(a)),l(e)}}),C?Object(h.jsx)(K,{}):Object(h.jsx)(Me,{change:E,orders:v,show:j,delete:function(e){var t=Object(te.a)(a),r=t.findIndex((function(t){return t.id===e}));t.splice(r,1),function(e){var t=e.id,a=e.setOrders,r=e.ordersArray;Q.a.delete("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/").concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(Object(te.a)(r)),alert("Pedido eliminado")})).catch((function(e){console.log(e),alert("No se puede eliminar un pedido que no est\xe1 cancelado")}))}({id:e,setOrders:n,ordersArray:t})},filterHandler:T,value:i,setOrder:function(e){L(e)},handleShow:M}),"admin"===localStorage.getItem("type")&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(R.a,{variant:"outline-success",className:"p-2 m-2",onClick:function(e){return P(e,1)},children:"Agregar Pedido En Espera"}),Object(h.jsx)(R.a,{variant:"outline-danger",className:"p-2 m-2",onClick:function(e){return P(e,0)},children:"Agregar Pedido Cancelado"})]})]})}),Object(h.jsx)(Pe,{order:I,show:m,handleShow:M,handleClose:function(){return p(!1)},changeStatusHandler:E,loading:C})]})},Fe=function(){var e=Object(l.g)().path;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{path:"".concat(e,"/new-user"),children:Object(h.jsx)(je,{})}),Object(h.jsx)(l.b,{path:"".concat(e,"/menu"),children:Object(h.jsx)(he,{})}),Object(h.jsx)(l.b,{path:"".concat(e,"/pedidos"),children:Object(h.jsx)(De,{})})]})})},Be=a(84),Ve=a(39),ze=a.p+"static/media/platillo_favorito.ad80efaa.jpg",He=a.p+"static/media/platillo_reciente.f93e1700.jpg",qe=["Platiilo 1","Nuevo Platillo Pruebalo","Platillo 2","Platillo Nuevo"],Re=["Platillo 1","Nuestro Platillo Favorito","Platillo 2","Un Clasico","Platillo 3","Muy Rico"];function Ge(e){return"recientes"===e.category?Object(h.jsxs)(H.a,{style:{width:"18rem"},children:[Object(h.jsx)(H.a.Img,{variant:"top",src:He}),Object(h.jsxs)(H.a.Body,{children:[Object(h.jsx)(H.a.Title,{children:qe[e.index]}),Object(h.jsx)(H.a.Text,{children:qe[e.index+1]}),Object(h.jsx)(R.a,{variant:"primary",children:"Ordenar"})]})]}):"favoritos"===e.category?Object(h.jsxs)(H.a,{style:{width:"18rem"},children:[Object(h.jsx)(H.a.Img,{variant:"top",src:ze}),Object(h.jsxs)(H.a.Body,{children:[Object(h.jsx)(H.a.Title,{children:Re[e.index]}),Object(h.jsx)(H.a.Text,{children:Re[e.index+1]}),Object(h.jsx)(R.a,{variant:"primary",children:"Ordenar"})]})]}):void 0}function Ue(e){if("recientes"===e.category)for(var t=0;t<qe.length;t++)return Object(h.jsx)(z.a,{children:Object(h.jsxs)(Be.a,{className:"mt-3",children:[Object(h.jsx)(Ve.a,{children:Object(h.jsx)(Ge,{index:t,category:e.category})}),Object(h.jsx)(Ve.a,{children:Object(h.jsx)(Ge,{index:t+2,category:e.category})})]})});else if("favoritos"===e.category)for(t=0;t<Re.length;t++)return Object(h.jsx)(z.a,{children:Object(h.jsxs)(Be.a,{className:"mt-3",children:[Object(h.jsx)(Ve.a,{children:Object(h.jsx)(Ge,{index:t,category:e.category})}),Object(h.jsx)(Ve.a,{children:Object(h.jsx)(Ge,{index:t+2,category:e.category})}),Object(h.jsx)(Ve.a,{children:Object(h.jsx)(Ge,{index:t+4,category:e.category})})]})})}var Ke=function(e){return Object(h.jsx)(Ue,{category:e.category})},Xe=a(146),Ze=a(147),$e=a(144);var Je=function(){var e=Object(r.useState)("recientes"),t=Object(o.a)(e,2),a=t[0],n=t[1];function c(e,t){e.preventDefault(),n(t)}return Object(h.jsxs)(r.Fragment,{children:[Object(h.jsxs)(Xe.a,{bg:"light",expand:"lg",children:[Object(h.jsx)(Xe.a.Brand,{href:"#home",onClick:function(e){return c(e,"recientes")},children:"Rest - aurante!"}),Object(h.jsx)(Xe.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsxs)(Xe.a.Collapse,{id:"basic-navbar-nav",children:[Object(h.jsxs)(Ze.a,{className:"mr-auto",children:[Object(h.jsx)(Ze.a.Link,{href:"#favoritos",onClick:function(e){return c(e,"favoritos")},children:"Favoritos."}),Object(h.jsx)(Ze.a.Link,{href:"#recientes",onClick:function(e){return c(e,"recientes")},children:"Recientes."}),Object(h.jsx)(Ze.a.Link,{href:"#promociones",children:"Promociones."}),Object(h.jsx)(Ze.a.Link,{href:"#extras",children:"Extras."}),Object(h.jsxs)($e.a,{title:"Categorias.",id:"basic-nav-dropdown",children:[Object(h.jsx)($e.a.Item,{href:"#action/3.1",children:"Desayunos."}),Object(h.jsx)($e.a.Item,{href:"#action/3.2",children:"Comidas."}),Object(h.jsx)($e.a.Item,{href:"#action/3.3",children:"Cenas."}),Object(h.jsx)($e.a.Item,{href:"#action/3.4",children:"Saludable."}),Object(h.jsx)($e.a.Divider,{}),Object(h.jsx)($e.a.Item,{href:"#action/3.5",children:"Separated link"})]})]}),Object(h.jsxs)(q.a,{inline:!0,children:[Object(h.jsx)(be.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(h.jsx)(R.a,{variant:"outline-success",children:"Search"})]})]})]}),Object(h.jsx)(Ke,{category:a})]})},Ye=function(){return Object(h.jsxs)(z.a,{className:"mb-4",children:[Object(h.jsxs)("div",{className:"d-flex align-items-center mb-4 justify-content-center",children:[Object(h.jsx)(q.a,{children:Object(h.jsx)(Ve.a,{children:Object(h.jsx)(q.a.Control,{type:"text",placeholder:"No. de pedido"})})}),Object(h.jsx)(R.a,{variant:"dark",className:"p-2",children:"Buscar"})]}),Object(h.jsxs)("div",{className:"col d-flex flex-wrap mb-4 align-content-center justify-content-center",children:[Object(h.jsx)(R.a,{variant:"outline-primary",className:"p-2 m-2",children:"Pendiente"}),Object(h.jsx)(R.a,{variant:"outline-warning",className:"p-2 m-2",children:"En preparaci\xf3n"}),Object(h.jsx)(R.a,{variant:"outline-success",className:"p-2 m-2",children:"Preparado"}),Object(h.jsx)(R.a,{variant:"outline-danger",className:"p-2  m-2",children:"Entregado"}),Object(h.jsx)(R.a,{variant:"outline-secondary",className:"p-2 m-2",children:"Todos"})]})]})},We=function(e){return Object(h.jsx)("div",{className:"col mb-3",children:Object(h.jsxs)(H.a,{className:"text-center",children:[Object(h.jsx)(H.a.Header,{className:"",children:Object(h.jsxs)("h4",{children:["Pedido #",e.idPedido]})}),Object(h.jsxs)(H.a.Body,{children:[Object(h.jsxs)(H.a.Text,{className:"text-break text-center",children:[Object(h.jsx)("h6",{children:"Estado: "}),function(e){switch(e){case 0:return"Cancelado";case 1:return"Pendiente";case 2:return"Preparando";case 3:return"Preparado";case 4:return"Entregado";default:return"Pendiente"}}(e.status)]}),Object(h.jsx)(R.a,{variant:"info",className:"is-centered",block:!0,onClick:function(){return e.orderDetail(),void e.handleShow()},children:"Ver pedido"})]})]})})},Qe=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),s=Object(o.a)(c,2),i=s[0],l=s[1],d=Object(r.useState)([]),u=Object(o.a)(d,2),j=(u[0],u[1]),b=Object(r.useState)(!0),g=Object(o.a)(b,2),O=g[0],m=g[1],p=Object(r.useState)({_id:"",idCliente:{},idChef:{},idMesero:{}}),x=Object(o.a)(p,2),f=x[0],v=x[1],y=function(){return n(!1)},_=function(){return n(!0)};Object(r.useEffect)((function(){ae({setOrders:l,setFilteredOrders:j,setLoading:m,filter:{status:1}})}),[]);var N=function(e){!function(e){var t=e.id,a=e.setOrder;Q.a.get("".concat("https://bedu-api-restaurante.herokuapp.com/v1","/pedido/").concat(t),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){a(e.data.detail)})).catch((function(e){console.log(e)}))}({id:e,setOrder:v})},C=i.map((function(e){return Object(h.jsx)(We,{idPedido:e._id.substring(e._id.length-7),idCliente:e.idCliente,idChef:e.idChef,idMesero:e.idMesero,info:e.info,cost:e.cost,status:e.status,orderDetail:function(){return N(e._id)},handleShow:function(){return _()},handleClose:function(){return y()}},e.idPedido)}));return Object(h.jsxs)("div",{className:"overflow-auto",children:[Object(h.jsx)(z.a,{className:"overflow-auto vh-75",children:O?Object(h.jsx)(K,{}):Object(h.jsx)("div",{className:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 overflow-auto",children:C})}),Object(h.jsx)(Pe,{order:f,show:a,handleShow:function(){return _()},handleClose:function(){return y()}})]})},et=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Ye,{}),Object(h.jsx)(Qe,{})]})},tt=function(){var e=Object(l.g)().path;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{path:"".concat(e,"/new-orders"),children:Object(h.jsx)(et,{})}),Object(h.jsx)(l.b,{path:"".concat(e,"/my-orders"),children:Object(h.jsx)(De,{})})]})})},at=function(){var e=Object(l.g)().path;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{path:"".concat(e,"/new-orders"),children:Object(h.jsx)(et,{})}),Object(h.jsx)(l.b,{path:"".concat(e,"/my-orders"),children:Object(h.jsx)(De,{})})]})})},rt=a.p+"static/media/Error404.260cc172.png",nt=Object(l.h)((function(e){return Object(h.jsxs)(z.a,{children:[Object(h.jsx)("div",{style:{textAlign:"right"},children:Object(h.jsx)(R.a,{variant:"danger",className:"ml-auto",onClick:function(){e.history.goBack()},children:"Ir atr\xe1s"})}),Object(h.jsx)("div",{style:{textAlign:"center"},children:Object(h.jsx)("img",{src:rt,alt:"Error 404",className:"mx-auto",style:{height:"90vh"}})})]})}));var ct=Object(l.h)((function(e){var t=Object(r.useState)(null),a=Object(o.a)(t,2),n=a[0],c=a[1],s=e.history,i=e.location.pathname;Object(r.useEffect)((function(){localStorage.getItem("type")&&(c(localStorage.getItem("token")),i.includes("/".concat(localStorage.getItem("type")))||s.push("/".concat(localStorage.getItem("type"))))}),[s,n]);var d=null,u=Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{path:"/",exact:!0,children:Object(h.jsx)(ce,{setToken:c,isAuthenticated:!!n})}),Object(h.jsx)(l.b,{path:"/signup",children:Object(h.jsx)(le,{setToken:c,isAuthenticated:!!n})}),Object(h.jsx)(l.b,{children:Object(h.jsx)(nt,{})})]});if(n){switch(localStorage.getItem("type")){case"admin":d=Object(h.jsx)(Fe,{});break;case"cliente":d=Object(h.jsx)(Je,{});break;case"chef":d=Object(h.jsx)(tt,{});break;default:d=Object(h.jsx)(at,{})}u=Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{path:"/".concat(localStorage.getItem("type")),children:d}),Object(h.jsx)(l.b,{path:"/logout",children:Object(h.jsx)(se,{setToken:c})}),Object(h.jsx)(l.b,{children:Object(h.jsx)(nt,{})})]})}return Object(h.jsx)(A,{isAuthenticated:!!n,children:u})})),st=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,148)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};a(138);s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(i.a,{basename:"".concat("/BEDU_Grupo5"),children:Object(h.jsx)(ct,{})})}),document.getElementById("root")),st()},46:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__3kXLK",Open:"SideDrawer_Open__1tCv1",Close:"SideDrawer_Close__9j7x-",Logo:"SideDrawer_Logo__3voUv"}},54:function(e,t,a){e.exports={Filter:"Filters_Filter__1yWg2",orangeBtn:"Filters_orangeBtn__3OgZA",orange:"Filters_orange__ysecx"}},55:function(e,t,a){e.exports={Check:"Checkmark_Check__1Xo4E",parpadeo:"Checkmark_parpadeo__2epWi",Green:"Checkmark_Green__2repx",Blue:"Checkmark_Blue__2q_xp"}},71:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__ApScI",Logo:"Toolbar_Logo__3Lk47",DesktopOnly:"Toolbar_DesktopOnly__LuPaL"}},72:function(e,t,a){e.exports={InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis",InvalidMessage:"Input_InvalidMessage__3liTp"}},75:function(e,t,a){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},79:function(e,t,a){e.exports={Login:"Login_Login__38Sbn",ErrorMessage:"Login_ErrorMessage__3eecU"}},80:function(e,t,a){e.exports={Signup:"SignUp_Signup__2bleP",ErrorMessage:"SignUp_ErrorMessage__1Zm2l"}},81:function(e,t,a){e.exports={Register:"Register_Register__ZwzJ_",ErrorMessage:"Register_ErrorMessage__SDlK4"}},82:function(e,t,a){e.exports={done:"Order_done__1PN9F",orange:"Order_orange__1b0pG",blue:"Order_blue__3_yee",green:"Order_green__1-Njy"}},83:function(e,t,a){e.exports={OrderHistory:"OrderHistory_OrderHistory__3wZHA",card:"OrderHistory_card__1emGG"}},93:function(e,t,a){e.exports={Logo:"Logo_Logo__1N0xH"}},94:function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},96:function(e,t,a){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__m405X"}},97:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},98:function(e,t,a){e.exports={Content:"Layout_Content__3H3X8"}},99:function(e,t,a){e.exports={Loader:"Spinner_Loader__1twK-",load6:"Spinner_load6__1_74m",round:"Spinner_round__3G_CY"}}},[[139,1,2]]]);
//# sourceMappingURL=main.ff12c0b3.chunk.js.map